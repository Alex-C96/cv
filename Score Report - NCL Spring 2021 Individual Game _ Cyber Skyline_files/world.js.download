/*! Copyright 2021 Cyber Skyline Inc. All rights reserved. */!function(){"use strict";var e,t={67678:function(e,t,r){var a=r(45697),n=r(96486),l=r(67294),o=r(83973),i=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(r(34575)),u=i(r(93913)),d=i(r(2205)),s=i(r(78585)),m=i(r(29754)),f=i(r(17365)),p=i(r(17161)),h=i(r(82930));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}var g=a,v=g.object,E=g.func,b=g.bool,w="ALL",k=function(e){(0,d.default)(r,e);var t=y(r);function r(){return(0,c.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"changeModule",value:function(e){var t=e===w?null:e;this.props.analyticsStore.moduleId!==e&&this.props.onChange({moduleId:t}),f.default.loadQuery({moduleId:t})}},{key:"render",value:function(){var e=this,t=this.props.analyticsStore,r=t.modules,a=t.moduleId,o=r;return this.props.allowAll&&(o=n.concat({_id:w,name:"All Modules"},r),a||(a=w)),n.size(r)>0?l.createElement(h.default,{style:this.props.style,type:"floating",icon:"dropdown",value:a,items:n.map(o,(function(e){return{value:e._id,text:e.name}})),onChange:function(t){return e.changeModule(t)}}):null}}]),r}(l.Component);k.propTypes={style:v,analyticsStore:v.isRequired,onChange:E,allowAll:b},k.defaultProps={style:{},onChange:Function.prototype,allowAll:!1};var R=o.Connect(k,p.default);t.default=R,e.exports=t.default},58355:function(e,t,r){var a=r(45697),n=r(6275),l=r(96486),o=r(67294),i=r(83973),c=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(34575)),d=c(r(93913)),s=c(r(2205)),m=c(r(78585)),f=c(r(29754)),p=c(r(58122)),h=c(r(94007)),y=c(r(17161));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,m.default)(this,r)}}var v=a,E=v.array,b=v.shape,w=v.object,k=n.loadHighcharts(),R=function(e){(0,s.default)(r,e);var t=g(r);function r(e){var a;return(0,u.default)(this,r),(a=t.call(this,e)).state=e.data||{modules:e.analyticsStore.report.modules||[],loading:!1},a}return(0,d.default)(r,[{key:"componentDidMount",value:function(){this.graph()}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=e.analyticsStore.report.modules;this.props.analyticsStore.report.modules!==r&&this.setState({modules:r,loading:!1},(function(){return t.graph()}))}},{key:"graph",value:function(){var e=this.state.modules;if(!l.isEmpty(e)){var t={chart:{polar:!0,type:"area",backgroundColor:null},legend:{enabled:!1},title:{text:null},xAxis:{categories:l.map(e,"name"),tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},tooltip:{shared:!0,pointFormat:"<span>Cyber Performance Index: {point.labeled:,.0f}</span>"},series:[{color:h.default[0],data:l.map(e,(function(e){return{labeled:Number((e.score/e.points*100).toFixed(2)),y:Math.max(e.score/e.points*100,5)}})),pointPlacement:"on"}]};k.chart("moduleRadarGraph",t)}}},{key:"render",value:function(){return o.createElement(p.default,{loading:this.state.loading,id:"moduleRadarGraph"})}}]),r}(o.Component);R.propTypes={data:b({modules:E.isRequired}),analyticsStore:w.isRequired},R.displayName="Analytics.ModuleRadar";var C=i.Connect(R,y.default);t.default=C,e.exports=t.default},58714:function(e,t,r){var a=r(67294),n=r(45697),l=r(6275),o=r(96486),i=r(30381),c=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(87757)),d=c(r(59713)),s=c(r(48926)),m=c(r(34575)),f=c(r(93913)),p=c(r(2205)),h=c(r(78585)),y=c(r(29754)),g=c(r(90165)),v=r(80261),E=c(r(59436)),b=r(41908);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,y.default)(e);if(t){var n=(0,y.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,h.default)(this,r)}}var C=a.Fragment,I=n,S=I.string,x=I.object,N=I.shape,O=I.array,T=I.bool,P=l.loadHighcharts(),L=g.default.GREY,M=g.default.BLUE,_=g.default.ORANGE,A=g.default.YELLOW,j=L.MORTAR,G={timelineContainer:{backgroundColor:M.DENIM,padding:0,height:175,width:"100%",position:"relative"},timeline:{height:"100%",width:"100%",position:"absolute",top:0,left:0,overflow:"hidden"},teamName:{margin:"0.25em 1.5em",textAlign:"left"},team:{boxShadow:"".concat(M.DENIM," 0px 0px 20px"),backgroundColor:"#FFFFFF",maxWidth:"30%"},logoLabel:{background:"rgba(0, 0, 0, 0)"},logo:{margin:"0.75em",height:15,marginBottom:"1em"},score:{display:"inline-block",margin:0,marginRight:"0.1em",fontSize:"6em",color:j},scoreLabel:{display:"inline-block",margin:0,color:j,lineHeight:1},donut:{display:"inline-block",height:150,width:150},trophy:{display:"inline-block",margin:0,marginLeft:"0.25em",lineHeight:.5,color:j},rank:{display:"inline-block",margin:0,color:j},rankText:{display:"inline-block",margin:"0px 0.25em"},world:{position:"relative",margin:"-1.75em 0px",top:2},worldIconLabel:{background:"#FFFFFF",border:"rgba(0,0,0,0.1) 1px solid",marginRight:"1em"},worldIcon:{maxWidth:200,maxHeight:45,margin:"0.1em"},worldName:{maxWidth:"80%",display:"inline-block",color:j}};var B=function(e){(0,p.default)(n,e);var t,r=R(n);function n(){return(0,m.default)(this,n),r.apply(this,arguments)}return(0,f.default)(n,[{key:"componentDidMount",value:function(){this.graphTeamTimeline()}},{key:"graphTeamTimeline",value:(t=(0,s.default)(u.default.mark((function e(){var t,r,a,n,c,d,s,m,f,p;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.world,!t.demo){e.next=3;break}return e.abrupt("return");case 3:return a="/world/".concat(r._id,"/timeline/team"),e.next=6,l.socket.get(a);case 6:n=e.sent,c=!o.get(n,"0.values.0.timestamp"),d=[{name:"Your score",type:"areaspline",color:"transparent",fillColor:M.MAYA,data:o.map(n,(function(e){return{x:c?e.timeOffset:new Date(e.timestamp).getTime(),y:l.round(e.value,0)}}))}],s=o.maxBy(n,"value").value,m=i.duration(0),c&&(m=i.duration(o.chain(n).head().get("values").map("timeOffset").max().value())),f={lineWidth:0,gridLineWidth:0,tickLength:0,minorTickLength:0,lineColor:"transparent",title:{enabled:!1},labels:{enabled:!1}},c?f.tickInterval=o.chain(n).first().get("values[1].timeOffset").value():f.type="datetime",p={series:d,chart:{zoomType:!1,backgroundColor:null,margin:[0,-10,0,-10]},title:null,xAxis:f,yAxis:{gridLineWidth:0,labels:{enabled:!1},title:{enabled:!1},max:s+10,min:0},legend:{enabled:!1},plotOptions:{areaspline:{marker:{enabled:!1}}},tooltip:{shared:!0,formatter:function(){var e=o.sortBy(this.points,(function(e){return-e.y})),t="<span style='font-size: 10px'>".concat(c?(0,b.formatLongLabel)(m,this.x):i(new Date(this.x)).format("dddd, MMM D, HH:mm"),"</span><br />"),r=o.map(e,(function(e){return"<span>".concat(e.series.name,": <b>").concat(Number(e.y).toLocaleString(),"</b></span>")})).join("<br />");return"".concat(t).concat(r)}}},P.chart("team-timeline-graph",p);case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,r,n,i=this.props,c=i.className,u=i.world,d=i.team,s=i.report,m=i.league,f=i.rank,p=s.world,h=p.correct,y=p.skipped,g=p.attempts,b=p.challenges;return/^NCL/.test(u.name)?e=l.url.static("/img/clients",u.darkBackgroundLogo||u.logo):u.logo&&(e=l.url.static("/img/clients",u.logo)),a.createElement(v.Card,{fluid:!0,className:c},a.createElement(v.Card.Content,{style:G.timelineContainer},a.createElement("div",{style:k(k({},G.timeline),{},{padding:"1em",zIndex:10,pointerEvents:"none"})},a.createElement(v.Label,{circular:!0,size:"mini",style:G.team},a.createElement(v.Header,{as:"h5",className:"auto-truncate",content:d.name,subheader:"SCORE CARD",style:G.teamName})),a.createElement(v.Label,{attached:"bottom right",style:G.logoLabel},a.createElement("div",null,a.createElement(v.Image,{src:l.url.static("/img/logo/cyberskyline_white.svg"),style:G.logo})))),a.createElement("div",{id:"team-timeline-graph",style:G.timeline})),a.createElement(v.Card.Content,{style:{padding:"0.75em 2em"}},a.createElement("div",{style:G.world},a.createElement(v.Label,{circular:!0,size:"massive",style:G.worldIconLabel},e?a.createElement(v.Image,{src:e,style:G.worldIcon}):a.createElement(v.Icon,{name:u.icon,size:"large",className:"CyberSkylineGradient",style:G.worldIcon})),a.createElement(v.Header,{as:"h4",className:"auto-truncate",style:G.worldName},a.createElement("span",null,u.name),m?a.createElement(C,null,a.createElement("span",{style:{margin:"0 0.75em"}},"â€¢"),a.createElement("span",null,m.name)):null))),a.createElement(v.Card.Content,{style:{padding:"2em"}},a.createElement(v.Grid,{verticalAlign:"middle",className:"layout"},a.createElement(v.Grid.Column,{style:{width:"auto",paddingRight:"0.5em"}},f?a.createElement(C,null,a.createElement(v.Header,{as:"h3",icon:"trophy",style:G.trophy}),a.createElement(v.Header,{as:"h1",style:G.rank},f.loading?a.createElement(v.Header.Content,null,"Loading"):a.createElement(C,null,0===f.ranking||0===f.total?a.createElement(v.Header.Content,{style:{fontWeight:"lighter"}},"Unranked"):a.createElement(C,null,a.createElement(v.Header.Content,null,f.ranking),a.createElement(v.Header.Subheader,{style:G.rankText}," ".concat((t=f.ranking,(r=["TH","ST","ND","RD"])[((n=t%100)-20)%10]||r[n]||r[0])," PLACE OUT OF "),a.createElement("b",null,f.total))))),a.createElement("br",null)):null,a.createElement(v.Header,{as:"h1",style:G.score},s.world.score),a.createElement(v.Header,{as:"h2",style:G.scoreLabel},a.createElement(v.Header.Content,{style:{fontSize:"0.65em"}},"POINTS"),a.createElement(v.Header.Subheader,null,"OUT OF"),a.createElement(v.Header.Content,null,s.world.points))),a.createElement(v.Grid.Column,{style:{width:"auto",paddingLeft:"0.5em",paddingRight:"0.5em"}},a.createElement("div",{style:G.donut},a.createElement(E.default,{name:"world-accuracy",label:"ACCURACY",value:h,total:g,color:[A.AMBER,_.MANGO]}))),a.createElement(v.Grid.Column,{style:{width:"auto",paddingLeft:"0.5em",paddingRight:"0.5em"}},a.createElement("div",{style:G.donut},a.createElement(E.default,{name:"world-completion",label:"COMPLETION",value:h+y,total:b,color:[M.CORNFLOWER,M.HAVELOCK]}))))),a.createElement(v.Card.Content,{style:{padding:"2em",backgroundColor:"#FAFAFA"}},a.createElement(v.Label,{circular:!0,size:"large",style:{background:"#FFFFFF",border:"rgba(0,0,0,0.1) 1px solid",position:"absolute",marginTop:"-3.25em"}},a.createElement("div",{style:{padding:"0.25em 1em"}},"MODULE COMPLETION")),a.createElement(v.Grid,{verticalAlign:"middle",style:{marginTop:0}},o.chain(s.modules).orderBy([function(e){return e.correct/e.challenges||0},"name"],["desc","asc"]).map((function(e){return a.createElement(v.Grid.Column,{key:e._id,style:{width:95}},a.createElement("div",{title:e.shortName||e.name,style:{overflow:"hidden",height:"1.5em"}},e.shortName||e.name),a.createElement(v.Label,{style:{backgroundColor:"rgba(0,0,0,0)",border:"rgba(0,0,0,0.1) 1px solid",margin:0,marginTop:"0.5em"}},l.printCompletion(e,0)))})).value())))}}]),n}(a.PureComponent);t.default=B,B.propTypes={className:S,demo:T,rank:x,league:x,world:x.isRequired,team:x.isRequired,report:N({world:x,modules:O}).isRequired},B.displayName="TeamPerformanceCard",e.exports=t.default},55846:function(e,t,r){var a=r(45697),n=r(96486),l=r(67294),o=r(83973),i=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(r(34575)),u=i(r(93913)),d=i(r(2205)),s=i(r(78585)),m=i(r(29754)),f=r(80261),p=i(r(72264)),h=i(r(30481)),y=i(r(5231)),g=i(r(17365)),v=i(r(24299)),E=i(r(87022)),b=i(r(67479)),w=i(r(67678)),k=i(r(68889));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}var C=a.object,I={selector:{width:"auto"},timeline:{height:400},scatter:{height:400}},S=window.preload,x=S.leagues,N=S.report,O=function(e){(0,d.default)(r,e);var t=R(r);function r(e){var a;(0,c.default)(this,r),a=t.call(this,e);var n=e.match.params,l=n.leagueId,o=n.worldId,i=n.moduleId;return g.default.loadQuery({worldId:o,leagueId:l,leagues:x,moduleId:i||null}),a}return(0,u.default)(r,[{key:"componentWillReceiveProps",value:function(e){var t=["moduleId","leagueId"],r=n.pick(this.props.match.params,t),a=n.pick(e.match.params,t);if(!n.isEqual(r,a)){var l=a.leagueId,o=a.moduleId;g.default.loadQuery({leagueId:l,moduleId:o||null})}}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.match,a=e.worldStore,n=r.params,o=n.worldId,i=n.moduleId,c=n.leagueId,u=function(e,r){return t.replace("/world/".concat(o,"/breakdown/").concat(e).concat(r?"/module/".concat(r):""))};return l.createElement("div",null,l.createElement(p.default.Stripe,{white:!0,padded:!0,title:"Score Breakdown - ".concat(a.name)},l.createElement(f.Grid,{verticalAlign:"middle"},l.createElement(f.Grid.Column,{style:I.selector},l.createElement(f.Header,{as:"h2",className:"light"},a.name)),l.createElement(f.Grid.Column,{style:I.selector},l.createElement(k.default,{onChange:function(e){var t=e.leagueId;return u(t,i)}})),l.createElement(f.Grid.Column,{style:I.selector},l.createElement(w.default,{allowAll:!0,onChange:function(e){var t=e.moduleId;return u(c,t)}})),l.createElement(f.Grid.Column,{style:I.selector},l.createElement(b.default,null)))),l.createElement(p.default.Stripe,null,l.createElement(f.Grid,null,l.createElement(f.Grid.Column,{widescreen:8,largeScreen:8,computer:16,tablet:16,mobile:16},l.createElement(f.Segment,{padded:!0},l.createElement(f.Header,{as:"h3",className:"light"},"Comparative Timeline"),l.createElement("div",{style:I.timeline},l.createElement(v.default,null)))),l.createElement(f.Grid.Column,{widescreen:8,largeScreen:8,computer:16,tablet:16,mobile:16},l.createElement(f.Segment,{padded:!0},l.createElement(f.Header,{as:"h3",className:"light"},"Composite Performance"),l.createElement("div",{style:I.scatter},l.createElement(E.default,null)))),l.createElement(f.Grid.Column,{width:16},l.createElement(h.default,{className:"rounded",modules:N.modules,world:N.world})))))}}]),r}(l.Component);O.propTypes={match:C.isRequired,history:C.isRequired,worldStore:C.isRequired},O.displayName="World.ScoreBreakdown";var T=o.Connect(O,y.default);t.default=T,e.exports=t.default},76840:function(e,t,r){var a=r(45697),n=r(6275),l=r(67294),o=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(34575)),c=o(r(93913)),u=o(r(2205)),d=o(r(78585)),s=o(r(29754)),m=r(80261);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,d.default)(this,r)}}var p=a.number,h=function(e){(0,u.default)(r,e);var t=f(r);function r(e){var a;return(0,i.default)(this,r),(a=t.call(this,e)).state={currTick:0},a}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.startInterval(this.props.interval)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this._timer)}},{key:"startInterval",value:function(e){var t=this;window.clearInterval(this._timer);var r=new Date;this._timer=window.setInterval((function(){var a=new Date;a-r>e?(n.events.emit("leaderboard.update.fetch"),t.setState({currTick:0}),r=a):t.setState((function(e){return{currTick:e.currTick+1e3}}))}),1e3)}},{key:"render",value:function(){var e=this.props.interval,t=this.state.currTick;return l.createElement(m.Progress,{attached:"bottom",size:"tiny",inverted:!0,color:"grey",value:t,total:e})}}]),r}(l.PureComponent);t.default=h,h.displayName="World.Timer",h.propTypes={interval:p.isRequired},e.exports=t.default},32808:function(e,t,r){var a=r(45697),n=r(6275),l=r(96486),o=r(67294),i=r(83973),c=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(34575)),d=c(r(93913)),s=c(r(81506)),m=c(r(2205)),f=c(r(78585)),p=c(r(29754)),h=c(r(80129)),y=r(80261),g=c(r(43724)),v=c(r(72264)),E=c(r(83491)),b=c(r(62750)),w=c(r(12918)),k=c(r(5231)),R=c(r(17365)),C=c(r(12467)),I=c(r(66011)),S=c(r(67479)),x=c(r(67678)),N=c(r(68889)),O=c(r(76840));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var P=a.object,L={headerBox:{background:"#FFFFFF"},selector:{width:"auto"},timeline:{height:400}},M=function(e){(0,m.default)(r,e);var t=T(r);function r(e){var a;(0,u.default)(this,r),(a=t.call(this,e)).state={adminView:!!n.hasRoles("admin")&&"true"===window.localStorage.LEADERBOARD_ADMIN_VIEW};var l=e.match.params,o=l.leagueId,i=l.moduleId,c=l.worldId;return R.default.loadQuery({worldId:c,leagueId:o,moduleId:i||null}),a.interval=null,a.toggleAdmin=a.toggleAdmin.bind((0,s.default)(a)),a}return(0,d.default)(r,[{key:"componentWillReceiveProps",value:function(e){var t=["moduleId","leagueId"],r=l.pick(this.props.match.params,t),a=l.pick(e.match.params,t),n=e.match.params,o=n.leagueId,i=n.moduleId;l.isEqual(r,a)||R.default.loadQuery({leagueId:o,moduleId:i||null})}},{key:"toggleAdmin",value:function(e){this.setState({adminView:e}),window.localStorage.LEADERBOARD_ADMIN_VIEW=e}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.history,a=e.location,n=e.worldStore,l=this.state.adminView,i=t.params,c=i.leagueId,u=i.moduleId,d=i.worldId,s=h.default.parse(a.search).refresh,m=function(e,t){return r.replace("/world/".concat(d,"/leaderboard/").concat(e).concat(t?"/module/".concat(t):"").concat(a.search))};return o.createElement("div",null,o.createElement(v.default.Stripe,{title:"Leaderboard - ".concat(n.name),padded:!0,style:L.headerBox},o.createElement(y.Grid,{verticalAlign:"middle"},o.createElement(y.Grid.Column,{style:L.selector},o.createElement(y.Header,{as:"h2",className:"light"},n.name)),o.createElement(y.Grid.Column,{style:L.selector},o.createElement(N.default,{onChange:function(e){var t=e.leagueId;return m(t,u)}})),o.createElement(y.Grid.Column,{style:L.selector},o.createElement(x.default,{allowAll:!0,onChange:function(e){var t=e.moduleId;return m(c,t)}})),o.createElement(y.Grid.Column,{style:L.selector},o.createElement(S.default,null),o.createElement("span",{style:{verticalAlign:"text-bottom"}},o.createElement(g.default,{placement:"bottom",tooltip:"Rank is determined firstly by total points scored with accuracy as the initial tie-breaker and time of last correct submission as the final tie-breaker."},o.createElement(y.Icon,{link:!0,circular:!0,size:"tiny",color:"grey",name:"question",style:{marginLeft:"2.5em"}})))))),s?o.createElement(O.default,{interval:1e3*Math.max(Math.round(s),60)}):null,o.createElement(v.default.Stripe,{divided:!1},o.createElement(y.Segment,{padded:!0,className:"rounded"},o.createElement(y.Header,{as:"h3",className:"light"},"Top Performers Timeline"),o.createElement("div",{style:L.timeline},o.createElement(I.default,{emptyMessage:n.emptyLeaderboardMessage})))),o.createElement(v.default.Stripe,{divided:!1},o.createElement(y.Segment,{padded:!0,className:"rounded"},o.createElement(E.default,null,o.createElement(y.Header,{as:"h3",className:"light"},"Top Performers"),o.createElement(w.default,{admin:!0},o.createElement(b.default,{toggle:!0,checked:l,label:"Admin View",onChange:this.toggleAdmin}))),o.createElement(C.default,{adminView:l,paginated:l,itemsPerPageScale:[100,500,1e3],emptyMessage:n.emptyLeaderboardMessage}))))}}]),r}(o.Component);M.propTypes={match:P.isRequired,history:P.isRequired,location:P.isRequired,worldStore:P.isRequired},M.displayName="World.Leaderboard";var _=i.Connect(M,k.default);t.default=_,e.exports=t.default},72389:function(e,t,r){var a=r(45697),n=r(67294),l=r(99556),o=r(6275),i=r(96486),c=r(83973),u=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=u(r(34575)),s=u(r(93913)),m=u(r(2205)),f=u(r(78585)),p=u(r(29754)),h=r(80261),y=u(r(12918)),g=u(r(45306));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var E=a.object,b=n.Fragment;function w(){l.getCurrTour()&&o.advanceTour(5)}var k=function(e){(0,m.default)(r,e);var t=v(r);function r(){var e;return(0,d.default)(this,r),(e=t.call(this)).interval=setInterval((function(){e.forceUpdate()}),1e3),e}return(0,s.default)(r,[{key:"componentWillReceiveProps",value:function(e){this.props.configStore.timeDiff!==e.configStore.timeDiff&&this.forceUpdate()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getNextModule",value:function(){for(var e=this.props.world,t="/module/".concat(e._id,"/"),r=i.keyBy(this.props.world.completion,"_id"),a=0;a<e.modules.length;){var n=e.modules[a];if(!r[n._id]||r[n._id].completed!==n.challenges.length)return"".concat(t).concat(n._id);a++}return i.isEmpty(e.modules)?null:"".concat(t).concat(i.first(e.modules)._id)}},{key:"render",value:function(){var e=this.props.world,t=this.getNextModule(),r=o.getTime(),a=(!e.start||new Date(e.start)<=r&&new Date(e.stop)>=r||o.isGuest())&&t;return n.createElement(b,null,n.createElement(h.Button,{as:"a",size:"big",labelPosition:"right",icon:"right arrow",color:"blue",id:"HopscotchModuleEnterButton",disabled:!a,href:t,onClick:w,content:"Enter"}),!a&&t?n.createElement(y.default,{admin:!0,style:{display:"block",marginLeft:"0.5em"}},n.createElement("a",{href:t},n.createElement(h.Icon,{name:"right arrow",circular:!0,style:{marginRight:0}}))):null)}}]),r}(n.Component);k.propTypes={world:E,configStore:E.isRequired},k.defaultProps={world:{}},k.displayName="World.ActionButton";var R=c.Connect(k,g.default);t.default=R,e.exports=t.default},55887:function(e,t,r){var a=r(45697),n=r(6275),l=r(96486),o=r(67294),i=r(30381),c=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var u=c(r(63038)),d=r(80261),s=c(r(93705)),m=c(r(43724)),f=c(r(99422)),p=c(r(72389)),h=a,y=h.bool,g=h.object,v={base:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"50%";return{backgroundSize:e?"cover":null,backgroundPositionY:e?t:-450,backgroundRepeat:e?"no-repeat":null,backgroundImage:'url("'.concat(e?n.url.static("/img/clients",e):n.url.static("/img/cityscape.jpg"),'")'),backgroundColor:"#000000",marginTop:-1,borderTop:"1px solid #4c4c4c",color:"#FFFFFF"}},overlay:{background:"rgba(0,0,0,0.75)"},grid:{paddingTop:"2em",paddingBottom:"2em",margin:0,minHeight:275},description:{maxWidth:650,whiteSpace:"pre-line"},timespan:{textAlign:"center"},logoColumn:{width:230,padding:0},logo:{maxHeight:150,maxWidth:200,margin:"auto"},textColumn:{width:"calc(100% - 250px)"}};function E(e){var t=e.showAction,r=e.world,a=r.banner,c=r.icon,h=r.logo,y=r.darkBackgroundLogo,g=r.name,E=r.subheader,b=r.description,w=r.start,k=r.stop,R=l.truncate(b,{length:300,separator:/(,|\.)? +/}),C=l.size(b)>l.size(R),I=w&&new Date(w),S=k&&new Date(k),x=o.createElement(s.default,{showDate:!0,start:I,stop:S}),N=I&&S?o.createElement("span",{className:"retina bolder"},"".concat(i(I).format()," - ").concat(i(S).format()," (").concat(i().format("Z"),")")):null,O=l.split(a,/, */g),T=(0,u.default)(O,2),P=T[0],L=T[1],M=y||h;return o.createElement("div",{style:v.base(P,L)},o.createElement("div",{style:v.overlay},o.createElement("div",{className:"wide-container"},o.createElement(d.Grid,{verticalAlign:"middle",style:v.grid},o.createElement(d.Grid.Column,{textAlign:"center",verticalAlign:"middle",style:v.logoColumn},M?o.createElement(d.Image,{src:n.url.static("/img/clients",M),style:v.logo}):o.createElement(d.Icon,{inverted:!0,name:c,size:"massive"})),o.createElement(d.Grid.Column,{verticalAlign:"middle",style:v.textColumn},o.createElement(d.Header,{inverted:!0,className:"thin",as:"h1"},g,o.createElement(d.Header.Subheader,null,o.createElement("span",{className:"retina bolder"},E))),C?o.createElement(f.default,{closeAction:!0,header:g,content:o.createElement("p",{style:{whiteSpace:"pre-line"}},b),trigger:o.createElement("p",{className:"pointer",style:v.description},R)}):o.createElement("p",{style:v.description},b),t?o.createElement(d.Grid,null,o.createElement(d.Grid.Column,{style:{width:"auto"}},o.createElement(p.default,{world:e.world})),o.createElement(d.Grid.Column,{verticalAlign:"middle",style:{width:"auto"}},o.createElement(d.Header,{inverted:!0,className:"light",as:"h4"},N?o.createElement(m.default,{type:"collapsing",on:"hover",tooltip:N,placement:"bottom",style:v.timespan},o.createElement("span",null,x)):x))):null)))))}E.propTypes={showAction:y,world:g.isRequired},E.displayName="World.Banner",e.exports=t.default},60773:function(e,t,r){var a=r(45697),n=r(67294),l=r(96486),o=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(87757)),c=o(r(48926)),u=o(r(34575)),d=o(r(93913)),s=o(r(81506)),m=o(r(2205)),f=o(r(78585)),p=o(r(29754)),h=r(80261),y=o(r(43724)),g=o(r(68668)),v=o(r(96832)),E=o(r(36751));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var w=a.object,k=n.Fragment,R={teamCode:{float:"right"}},C=function(e){(0,m.default)(a,e);var t,r=b(a);function a(e){var t;return(0,u.default)(this,a),(t=r.call(this,e)).state={authCode:"",transfer:!1,status:{}},t.transferTeam=t.transferTeam.bind((0,s.default)(t)),t}return(0,d.default)(a,[{key:"transferTeam",value:(t=(0,c.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.authCode,e.prev=1,e.next=4,g.default.transferTeams(this.props.world._id,{authCode:t});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({status:{error:e.t0.message}});case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this,r=this.props,a=r.team,o=r.world;a.limit>1&&!o.lockedTeams&&(e=o.teamPage?n.createElement("span",{style:R.teamCode},n.createElement("a",{href:o.teamPage},n.createElement(h.Icon,{name:"send",size:"small",style:{marginRight:"0.5em"}}),"Invite Members")):n.createElement("span",{style:R.teamCode},"Code: ".concat(a.authCode," "),n.createElement(y.default,{placement:"top",tooltip:n.createElement(k,null,n.createElement("p",null,"Give this code to people on other teams that want to transfer to your team. Anyone with this code can transfer to your team, so be careful who you give it to."),n.createElement("p",null,"If the person you're inviting does not have a team yet, you need to get the invite link from where you first created the team."))},n.createElement("span",null,n.createElement(h.Icon,{name:"circle help",link:!0})))));var i=n.createElement("div",{className:"transition fade"},n.createElement(h.Input,{size:"small",fluid:!0,action:!0},n.createElement("input",{type:"text",placeholder:"Target Team Code",value:this.state.authCode,onChange:function(e){return t.setState({authCode:e.target.value})},onKeyDown:function(e){return"Enter"===e.key?t.transferTeam():null}}),n.createElement(h.Button,{color:"blue",onClick:this.transferTeam},"Transfer")));return n.createElement(k,null,n.createElement(h.Header,{dividing:!0,as:"h3",className:"light"},o.lockedTeams?"Team Info":"Team Info (".concat(l.size(a.members),"/").concat(a.limit,")"),e),n.createElement(v.default,this.state.status),n.createElement(h.List,{style:{marginLeft:13,marginTop:4}},l.map(a.members,(function(e){return n.createElement(h.List.Item,{key:e._id,icon:"user",content:e.name})}))),o.lockedTeams?null:n.createElement(E.default,{in:!this.state.transfer,oppositeChildren:i},n.createElement(h.List,{className:"transition fade",style:{marginLeft:13,marginTop:0}},n.createElement(h.List.Item,{as:o.teamPage?"a":null,className:"item pointer",href:o.teamPage,onClick:o.teamPage?null:function(){return t.setState({transfer:!0})}},n.createElement(h.Icon,{name:"exchange"}),n.createElement(h.List.Content,null,"Transfer Teams")))))}}]),a}(n.Component);t.default=C,C.propTypes={world:w.isRequired,team:w.isRequired},C.displayName="World.Info.Members",e.exports=t.default},62103:function(e,t,r){var a=r(45697),n=r(67294),l=r(83973),o=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(87757)),c=o(r(48926)),u=o(r(34575)),d=o(r(93913)),s=o(r(81506)),m=o(r(2205)),f=o(r(78585)),p=o(r(29754)),h=r(80261),y=o(r(5231)),g=o(r(14983)),v=o(r(68668)),E=o(r(96832)),b=o(r(36751)),w=o(r(60773));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var R=a.object,C={updateButton:{marginLeft:6}},I=function(e){(0,m.default)(a,e);var t,r=k(a);function a(e){var t;return(0,u.default)(this,a),(t=r.call(this,e)).state={status:{},edit:!1,teamName:e.teamStore.name},t.updateName=t.updateName.bind((0,s.default)(t)),t}return(0,d.default)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.teamStore.name!==e.teamStore.name&&this.setState({teamName:e.teamStore.name})}},{key:"updateName",value:(t=(0,c.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.teamName,e.prev=1,e.next=4,v.default.updateName(this.props.worldStore._id,{name:t});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({status:{error:e.t0.message}});case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,r=t.worldStore,a=t.teamStore,l=this.state,o=l.teamName,i=l.edit,c=l.status,u=o!==a.name||i,d=1===a.limit,s=n.createElement("div",{className:"ui blue button transition fade",onClick:this.updateName,style:C.updateButton},"Update"),m=a.limit>1?"users":"user";return n.createElement("div",{id:"info"},n.createElement(h.Header,{dividing:!0,as:"h3",className:"light"},d?"Your Info":"Team Info",r.renameTeams?n.createElement("a",{style:{cursor:"pointer",float:"right",fontSize:"0.75em"},onClick:function(){return e.setState({edit:!i})}},"Edit Display Name"):null),r.renameTeams?n.createElement("div",null,n.createElement(E.default,c),n.createElement(h.Input,{icon:!0,iconPosition:"left",fluid:!0,className:u?null:"plain"},n.createElement(h.Icon,{name:m,style:{color:"#000000"}}),n.createElement("input",{type:"text",maxLength:60,value:o,placeholder:"Leaderboard display name",onChange:function(t){return e.setState({teamName:t.target.value,edit:!1})}}),n.createElement("div",null,n.createElement(b.default,{in:u,timeout:300},s)))):n.createElement("div",{className:"ui list",style:{marginLeft:13}},n.createElement("div",{className:"item"},n.createElement(h.Icon,{name:m}),n.createElement("div",{className:"content header"},a.name))),a.ranked?null:n.createElement("div",{style:{marginTop:"1em",marginLeft:"0.9em"}},n.createElement(h.Icon,{name:"trophy",color:"grey",style:{marginRight:"0.75em"}}),n.createElement("span",null,"Unranked")),d?null:n.createElement(w.default,{team:a,world:r}))}}]),a}(n.Component);I.propTypes={worldStore:R.isRequired,teamStore:R.isRequired},I.displayName="World.Info";var S=l.Connect(I,y.default,g.default);t.default=S,e.exports=t.default},25529:function(e,t,r){var a=r(45697),n=r(99556),l=r(6275),o=r(96486),i=r(67294),c=r(83973),u=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=u(r(59713)),s=u(r(34575)),m=u(r(93913)),f=u(r(2205)),p=u(r(78585)),h=u(r(29754)),y=r(80261),g=u(r(5231)),v=u(r(45306)),E=u(r(14983)),b=u(r(17161));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,p.default)(this,r)}}var C=a.object,I={leftColHeader:{margin:"0px 21px 0px 21px"},item:{paddingTop:"1em",paddingBottom:"1em"},list:{padding:0,marginTop:0},p:{color:"#000"}};function S(){n.getCurrTour()&&l.advanceTour(5)}var x=function(e){(0,f.default)(r,e);var t=R(r);function r(){return(0,s.default)(this,r),t.apply(this,arguments)}return(0,m.default)(r,[{key:"componentDidMount",value:function(){this.intervalUpdate()}},{key:"componentWillReceiveProps",value:function(e){this.props.configStore.timeDiff!==e.configStore.timeDiff&&this.intervalUpdate()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"intervalUpdate",value:function(){var e=this;clearInterval(this.interval),this.interval=setInterval((function(){e.forceUpdate(),e.isActive()&&clearInterval(e.interval)}),1e3)}},{key:"isActive",value:function(){var e=this.props.worldStore,t=e.start,r=e.stop;return!(t&&!l.hasRoles(["admin"])&&!l.isImpersonated()&&!l.isGuest())||new Date(t)<l.getTime()&&new Date(r)>l.getTime()}},{key:"render",value:function(){var e=this.props,t=e.worldStore,r=e.teamStore,a=e.analyticsStore.report,n=this.isActive(),c=o.map(t.modules,(function(e){return k(k({},o.find(a.modules,{_id:e._id})),e)}));return i.createElement("div",{className:"ui middle aligned selection divided list",style:I.list,id:"HopscotchModuleList"},0===o.size(c)?i.createElement(y.Message,{style:{marginTop:"1em"},content:"No modules are currently available. Please check back again later for an update!"}):null,o.map(c,(function(e){return i.createElement("a",{className:"ui item",key:e._id,style:I.item,href:r._id&&n?"/module/".concat(t._id,"/").concat(e._id):null,onClick:S},i.createElement("h3",{className:"ui light header"},i.createElement("i",{className:e.icon?"".concat(e.icon," icon"):"cubes icon"}),i.createElement("div",{className:"content"},e.name,i.createElement("div",{className:"sub header"},i.createElement("div",{className:"ui tiny horizontal divided list",style:I.list},i.createElement("div",{className:"item"},"".concat(o.size(e.clusters)," Challenges")),i.createElement("div",{className:"item"},"".concat(e.challenges," Questions")),r._id?i.createElement("div",{className:"item"},"".concat(l.round(100*(e.correct/e.challenges||0),2),"% Completion")):null)))),i.createElement("p",{style:I.p},e.description))})))}}]),r}(i.Component);x.propTypes={configStore:C.isRequired,worldStore:C.isRequired,teamStore:C.isRequired,analyticsStore:C.isRequired},x.displayName="World.ModulesList";var N=c.Connect(x,v.default,g.default,E.default,b.default);t.default=N,e.exports=t.default},64040:function(e,t,r){var a=r(45697),n=r(6275),l=r(96486),o=r(67294),i=r(83973),c=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(34575)),d=c(r(93913)),s=c(r(2205)),m=c(r(78585)),f=c(r(29754)),p=r(80261),h=c(r(43724)),y=c(r(72264)),g=c(r(58714)),v=c(r(58355)),E=c(r(5231)),b=c(r(14983)),w=c(r(17161)),k=c(r(25529)),R=c(r(62103)),C=c(r(55887));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,m.default)(this,r)}}var S=a.object,x={sectionHeader:{marginBottom:0},radar:{height:420},skillsPopup:{float:"right"}},N=function(e){(0,s.default)(r,e);var t=I(r);function r(){return(0,u.default)(this,r),t.apply(this,arguments)}return(0,d.default)(r,[{key:"componentDidMount",value:function(){n.events.emit("tourReady")}},{key:"render",value:function(){var e=this.props,t=e.worldStore,r=e.teamStore,a=e.analyticsStore,n=l.inRange(l.size(t.modules),3,11),i=o.createElement(h.default,{placement:"left",tooltip:"The Cyber Performance Index is a composite measurement based on your points and accuracy."},o.createElement("span",{style:x.skillsPopup},o.createElement(p.Icon,{link:!0,name:"circle help",style:{marginRight:0}})));return o.createElement("div",null,o.createElement("div",{className:"border-bottom"},o.createElement(C.default,{world:t,showAction:!0})),o.createElement(y.default.Stripe,{padded:!0,divided:!1},o.createElement(p.Grid,null,o.createElement(p.Grid.Column,{widescreen:5,largeScreen:8,computer:8,tablet:16,mobile:16},o.createElement(p.Segment,{padded:!0,className:"rounded",style:{height:"100%"}},o.createElement(p.Header,{as:"h3",dividing:!0,className:"light",style:x.sectionHeader},"Modules Overview"),o.createElement(k.default,t))),o.createElement(p.Grid.Column,{widescreen:11,largeScreen:8,computer:8,tablet:16,mobile:16},o.createElement(p.Grid,null,o.createElement(p.Grid.Column,{widescreen:8,largeScreen:16,computer:16,tablet:16,mobile:16},o.createElement(g.default,{className:"rounded",demo:"demo"===t._id,world:t,team:r,report:a.report})),o.createElement(p.Grid.Column,{widescreen:8,largeScreen:16,computer:16,tablet:16,mobile:16},o.createElement(p.Segment,{padded:!0,className:"rounded",style:{height:"100%"}},o.createElement(R.default,t),o.createElement(p.Header,{dividing:!0,as:"h3",className:"light"},"Skills Tracker",i),o.createElement("div",{style:x.radar},n?o.createElement(v.default,null):o.createElement(p.Message,{style:{marginTop:"1em",height:"100%"},content:"Skills Tracker currently unavailable. ".concat(l.size(t.modules)<3?"Not enough data.":"")})))))))))}}]),r}(o.PureComponent);N.propTypes={worldStore:S,teamStore:S,analyticsStore:S},N.displayName="World.Overview";var O=i.Connect(N,E.default,b.default,w.default);t.default=O,e.exports=t.default},32051:function(e,t,r){var a=r(45697),n=r(67294),l=r(96486),o=r(83973),i=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(r(34575)),u=i(r(93913)),d=i(r(2205)),s=i(r(78585)),m=i(r(29754)),f=r(73727),p=r(80261),h=i(r(82930)),y=i(r(72264)),g=i(r(83442)),v=i(r(70095)),E=i(r(5231)),b=i(r(16761)),w=i(r(17365)),k=i(r(68889));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}var C=a.object,I=n.Fragment,S={selector:{width:"auto"},timeline:{height:400},scatter:{height:400}},x=window.preload,N=x.leagues,O=x.report,T=x.verifiedReportId,P=x.verifiedCertificateId,L=function(e){(0,d.default)(r,e);var t=R(r);function r(e){var a;(0,c.default)(this,r),a=t.call(this,e);var n=e.match.params,l=n.leagueId,o=n.worldId,i=n.moduleId;return w.default.loadQuery({dateRange:"ONE_WEEK",worldId:o,leagueId:l,leagues:N,report:O,moduleId:i||null}),a}return(0,u.default)(r,[{key:"componentWillReceiveProps",value:function(e){var t=["moduleId","leagueId"],r=l.pick(this.props.match.params,t),a=l.pick(e.match.params,t);if(!l.isEqual(r,a)){var n=a.leagueId,o=a.moduleId;w.default.loadQuery({leagueId:n,moduleId:o||null})}}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.match,a=e.worldStore,o=e.userStore,i=r.params,c=i.worldId,u=i.leagueId,d=i.moduleId,s=l.find(O.modules,{_id:d}),m=function(e,r){return t.replace("/world/".concat(c,"/report/").concat(e).concat(r?"/module/".concat(r):""))};return n.createElement(I,null,n.createElement(y.default.Stripe,{white:!0,padded:!0,title:"Score Report - ".concat(a.name)},n.createElement(p.Grid,{verticalAlign:"middle"},n.createElement(p.Grid.Column,{style:S.selector},n.createElement(p.Header,{as:"h2",className:"light"},a.name)),n.createElement(p.Grid.Column,{style:S.selector},n.createElement(k.default,{onChange:function(e){var t=e.leagueId;return m(t,d)}})),n.createElement(p.Grid.Column,{floated:"right",style:S.selector},n.createElement(I,null,T||P?n.createElement(h.default,{type:"mini labeled icon button top left pointing",icon:"save",placeholder:"Download",style:{marginRight:"1.5em"}},T?n.createElement("a",{className:"item",download:"".concat(o.name," - Cyber Skyline Report - ").concat(a.name,".pdf"),href:"/report/".concat(T)},n.createElement(p.Icon,{name:"file alternate outline"}),"Report"):null,P?n.createElement("a",{className:"item",download:"".concat(o.name," - Cyber Skyline Certificate - ").concat(a.name,".pdf"),href:"/verify/".concat(P)},n.createElement(p.Icon,{name:"address card outline"}),"Certificate"):null):null,n.createElement(f.Link,{to:"/world/".concat(c,"/breakdown/").concat(u)},"Printable Version"))))),n.createElement(y.default.Stripe,{divided:!1},n.createElement(p.Grid,null,n.createElement(p.Grid.Column,{widescreen:3,largeScreen:4,computer:5,tablet:5,mobile:16},n.createElement(v.default,{className:"rounded",modules:O.modules,selected:d,onSelect:function(e){return m(u,e)}})),n.createElement(p.Grid.Column,{widescreen:13,largeScreen:12,computer:11,tablet:11,mobile:16},n.createElement(p.Segment,{className:"rounded",style:{padding:0}},n.createElement(g.default,{world:s?null:O.world,module:s,onCloseClick:s?function(){return m(u)}:null,emptyMessage:a.emptyLeaderboardMessage}))))))}}]),r}(n.PureComponent);L.propTypes={match:C.isRequired,history:C.isRequired,worldStore:C.isRequired,userStore:C.isRequired},L.displayName="World.ScoreAnalysis";var M=o.Connect(L,E.default,b.default);t.default=M,e.exports=t.default},7643:function(e,t,r){var a=r(67294),n=r(45697),l=r(6275),o=r(30381),i=r(96486),c=r(83973),u=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=u(r(87757)),s=u(r(48926)),m=u(r(34575)),f=u(r(93913)),p=u(r(2205)),h=u(r(78585)),y=u(r(29754)),g=r(80261),v=u(r(68668)),E=u(r(5231)),b=u(r(14983)),w=u(r(93705)),k=u(r(43724)),R=u(r(72264)),C=u(r(62103)),I=u(r(55887));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,y.default)(e);if(t){var n=(0,y.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,h.default)(this,r)}}var x=a.Fragment,N=n.object,O={button:{width:"auto"},timespan:{textAlign:"center"},background:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"60%";return{backgroundSize:e?"cover":null,backgroundPositionY:t,backgroundRepeat:"no-repeat",backgroundImage:'url("'.concat(e?l.url.static("/img/clients",e):l.url.static("/img/cityscape.jpg"),'")'),backgroundColor:"#000000",height:250}},logo:{maxHeight:150,maxWidth:200,display:"inline"},textColumn:{width:"calc(100% - 200px)"},segment:{padding:"2em"}},T=function(e){(0,p.default)(n,e);var t,r=S(n);function n(){return(0,m.default)(this,n),r.apply(this,arguments)}return(0,f.default)(n,[{key:"start",value:(t=(0,s.default)(d.default.mark((function e(){var t;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.worldStore,e.next=3,v.default.startTeam(t._id);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,r=t.worldStore,n=t.teamStore,c=r.timeLimit,u=r.start,d=r.stop,s=n.members,m=l.printDuration(o.duration(c,"minutes"),{hideZeroSeconds:!0}),f=l.getTime(),p=u?new Date(u):null,h=d?new Date(d):null,y=!u||p<=f&&h>=f||l.isGuest(),v=a.createElement(w.default,{showDate:!0,start:p,stop:h}),E=p&&h?a.createElement("span",{className:"retina bolder"},"".concat(o(p).format()," - ").concat(o(h).format()," (").concat(o().format("Z"),")")):null;return a.createElement(x,null,a.createElement("div",{className:"border-bottom"},a.createElement(I.default,{world:r,showAction:!1})),a.createElement(R.default.Stripe,{padded:!0,divided:!1},a.createElement(g.Grid,{centered:!0},a.createElement(g.Grid.Column,{widescreen:8,largeScreen:8,computer:8,tablet:16,mobile:16},a.createElement(g.Segment.Group,null,a.createElement(g.Segment,{style:O.segment},a.createElement("div",null,a.createElement(g.Header,{as:"h1",className:"thin",style:{fontSize:"2.5em"}},"Welcome!"),a.createElement("p",null,"You are about to start a timed cyber exercise! You will have ".concat(m," to access the exercise.")),a.createElement("p",null,"It's super simple to get started, all you need is your web browser and your favorite set of cybersecurity tools/programs (we recommend Kali Linux).")),a.createElement(g.Header,{as:"h2",className:"light"},"Instructions"),a.createElement(g.List,{ordered:!0},a.createElement(g.List.Item,null,a.createElement("span",null,"Try out the "),a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://cyberskyline.com/demo/live?skipInfo=true"},"demo"),a.createElement("span",null," to familiarize yourself with the interface")),a.createElement(g.List.Item,null,'The timer starts when you click on "Start" at the bottom of the page'),a.createElement(g.List.Item,null,"You should aim to complete all modules, but it is okay if you do not complete them all in time"),a.createElement(g.List.Item,null,"Modules may contain more than 1 Question Set"),a.createElement(g.List.Item,null,"Each Question Set will have a shared theme or set of file artifacts"),a.createElement(g.List.Item,null,"Most Questions will be open ended free response, the scoring engine will use natural language processing to score your answer, so just type in the answer naturally"),a.createElement(g.List.Item,null,"Some Questions may have a special formatter to avoid formatting ambiguities, like a date picker, hexadecimal input, or IP address input"),a.createElement(g.List.Item,null,"You may go through Modules or Question Sets in any order and you may revisit them after you have completed them"))),i.size(s)>1?a.createElement(g.Segment,{style:O.segment},a.createElement(g.Header,{as:"h2",className:"light"},"Team Members"),a.createElement("p",null,"Below is a list of your teammates that will be participating in the exercise. When you start the exercise, the timer will start for everyone - not just you."),a.createElement(g.List,{ordered:!0},i.map(s,(function(e,t){var r=e.name;return a.createElement(g.List.Item,{key:t},r)})))):null,a.createElement(g.Segment,{style:O.segment},a.createElement("p",null,a.createElement("span",null,"Click the button below to start the timer on your exercise. Note that once you begin, you will have "),a.createElement("b",null,m),a.createElement("span",null," to complete the exercise.")),i.size(s)>1?a.createElement("p",null,"THIS WILL START THE TIMER FOR ALL ".concat(i.size(s)," MEMBERS OF YOUR TEAM.")):null,a.createElement(g.Grid,null,a.createElement(g.Grid.Column,{style:O.button},a.createElement(g.Button,{disabled:!y,as:"a",color:"blue",onClick:function(){return e.start()}},"Start")),a.createElement(g.Grid.Column,{verticalAlign:"middle",style:{width:"auto"}},a.createElement(g.Header,{className:"light",as:"h4"},E?a.createElement(k.default,{type:"collapsing",on:"hover",tooltip:E,placement:"bottom",style:O.timespan},a.createElement("span",null,v)):v)))))),n.limit>1&&!r.lockedTeams?a.createElement(g.Grid.Column,{widescreen:4,largeScreen:6,computer:6,tablet:16,mobile:16},a.createElement(g.Segment,{style:O.segment},a.createElement(C.default,r))):null)))}}]),n}(a.Component);T.propTypes={worldStore:N.isRequired,teamStore:N.isRequired},T.displayName="World.Start";var P=c.Connect(T,E.default,b.default);t.default=P,e.exports=t.default},32848:function(e,t,r){var a=r(45697),n=r(6275),l=r(96486),o=r(30381),i=r(67294),c=r(83973),u=r(73935),d=r(95318),s=d(r(319)),m=r(73727),f=d(r(80584)),p=d(r(72264)),h=d(r(5231)),y=d(r(16761)),g=d(r(14983)),v=d(r(646)),E=d(r(68668)),b=d(r(67201)),w=d(r(23779)),k=d(r(17365)),R=d(r(64040)),C=d(r(7643)),I=d(r(32808)),S=d(r(32051)),x=d(r(55846)),N=a.object;n.setup(),n.recordSession();var O=window.preload,T=O.ranking,P=O.score,L=O.world,M=O.team,_=O.demo,A=O.leagues,j=O.modules,G=O.refresh,B=O.report;function H(e){var t=e.worldStore,r=e.teamStore,a=e.match.params.worldId,n="demo"===t._id||0===l.size(r.leagues),o=t.start,c=function(e){return"/calendar/world/".concat(a,"/").concat(e)},u=[{name:"Overview",href:"/world/".concat(a),exact:!0},{name:"Leaderboard",href:"/world/".concat(a,"/leaderboard"),disabled:n},{name:"Score Report",href:"/world/".concat(a,"/report"),disabled:n}].concat((0,s.default)(o&&"demo"!==a?[{name:"Calendar",dropdown:[{text:"Add to Google Calendar",href:c("google"),icon:"google"},{text:"Get iCalendar (ics) file",href:c("ical"),icon:"calendar alternate outline"}]}]:[]));return i.createElement(p.default,{tabs:u,title:t.name},i.createElement(p.default.Tabs,{tabs:u}),i.createElement(m.Switch,null,i.createElement(m.Route,{exact:!0,path:"/world/:worldId",component:R.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/start",component:C.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/leaderboard/:leagueId",component:I.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/leaderboard/:leagueId/module/:moduleId",component:I.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/report/:leagueId",component:S.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/report/:leagueId/module/:moduleId",component:S.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/breakdown/:leagueId",component:x.default}),i.createElement(m.Route,{exact:!0,path:"/world/:worldId/breakdown/:leagueId/module/:moduleId",component:x.default})))}L&&(v.default.loadWorld(l.assign({ranking:T,demo:_},L)),k.default.loadQuery({worldId:L._id})),(M||A)&&E.default.loadTeam(l.assign({leagues:A},M)),P&&b.default.loadScore({worldScore:P}),j&&k.default.load({leagues:A,modules:j,leaderboardRefreshRate:o.duration(G,"seconds").asMilliseconds()}),B&&k.default.load({report:B}),w.default.getTimeOffset();var D=c.Connect(H,h.default,y.default,g.default);u.render(i.createElement(m.BrowserRouter,null,i.createElement(f.default,null,i.createElement(m.Route,{path:"/world/:worldId",component:D}))),document.getElementById("app")),H.propTypes={match:N,worldStore:N.isRequired,teamStore:N.isRequired},H.displayName="World.Layout"}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=t,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},e=[],a.O=function(t,r,n,l){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],l=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(i=!1,l<o&&(o=l));i&&(e.splice(u--,1),t=n())}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,n,l]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.j=199,function(){var e={199:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,o=r[0],i=r[1],c=r[2],u=0;for(n in i)a.o(i,n)&&(a.m[n]=i[n]);for(c&&c(a),t&&t(r);u<o.length;u++)l=o[u],a.o(e,l)&&e[l]&&e[l][0](),e[o[u]]=0;a.O()},r=self.webpackChunkcyberskyline_frontend=self.webpackChunkcyberskyline_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=a.O(void 0,[662],(function(){return a(32848)}));n=a.O(n)}();
//# sourceMappingURL=world.js.map